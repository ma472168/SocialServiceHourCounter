<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador de Horas de Servicio Social</title>
    <link rel="stylesheet" href="style.css">

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

    <script>
        // ====================================================================
        // IMPORTANTE: REEMPLAZA ESTO CON TUS PROPIAS CREDENCIALES DE FIREBASE
        // (Las obtuviste de la consola de Firebase en el Paso 2)
        // ====================================================================
        const firebaseConfig = {
            apiKey: "AIzaSyCD-A8ZoKMyu4_ZZhD5Vt5BZNG4xxwWT28",
            authDomain: "socialservicehourcounterapp.firebaseapp.com",
            projectId: "socialservicehourcounterapp",
            storageBucket: "socialservicehourcounterapp.firebasestorage.app",
            messagingSenderId: "588272545302",
            appId: "1:588272545302:web:03523e68c524985a900f37",
            measurementId: "G-MVSYDEM168"
        };


        // Inicializa Firebase con tu configuración
        firebase.initializeApp(firebaseConfig);

        // Obtén una referencia a la Realtime Database
        // Esta variable 'database' será usada por tu script principal (SocialServiceHourCounter.js)
        const database = firebase.database();

        // Puedes poner aquí cualquier otra variable global o código que necesites antes
        // de que se cargue tu script principal.
        // Las URLs antiguas de Apps Script o del proxy CORS YA NO SON NECESARIAS.
        // Borra cualquier línea como:
        // const GOOGLE_APP_SCRIPT_URL = '...';
        // const YOUR_ACTUAL_APP_SCRIPT_URL = '...';

    </script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>Contador de Horas de Servicio Social</h1>

        <div class="config-section card">
            <h2>Configuración Global</h2>
            <div class="input-group">
                <input type="checkbox" id="excluirSabados">
                <label for="excluirSabados">Excluir Sábados</label>
            </div>
            <div class="input-group">
                <input type="checkbox" id="excluirDomingos">
                <label for="excluirDomingos">Excluir Domingos</label>
            </div>
            <div class="input-group">
                <label for="diasExcluidosInput">Días a Excluir (YYYY-MM-DD, separados por comas):</label>
                <input type="text" id="diasExcluidosInput" placeholder="Ej: 2023-12-25, 2024-01-01">
            </div>
            <button id="guardarConfigBtn" class="btn">Guardar Configuración</button>
        </div>

        <div class="input-section card">
            <h2>Registrar Horas</h2>
            <div class="input-group">
                <label for="fecha">Fecha:</label>
                <input type="date" id="fecha" required>
            </div>
            <div class="input-group">
                <label for="horas">Horas:</label>
                <input type="number" id="horas" min="0.5" step="0.5" required>
            </div>
            <div class="input-group">
                <label for="nota">Nota (Opcional):</label>
                <input type="text" id="nota" placeholder="Descripción de la actividad">
            </div>
            <button id="agregarHorasBtn" class="btn">Agregar Horas</button>
        </div>

        <div class="records-section card">
            <h2>Registros de Horas</h2>
            <p>Total de horas acumuladas: <span id="totalHoras">0</span></p>
            <p>Días laborables estimados: <span id="diasLaborablesEstimados">0</span></p>
            <div class="filters">
                <input type="date" id="filtroFechaInicio" placeholder="Fecha Inicio">
                <input type="date" id="filtroFechaFin" placeholder="Fecha Fin">
                <button id="aplicarFiltroBtn" class="btn">Aplicar Filtro</button>
                <button id="limpiarFiltroBtn" class="btn clear-btn">Limpiar Filtro</button>
            </div>
            <table id="horasTable">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Horas</th>
                        <th>Nota</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>

    <script src="SocialServiceHourCounter.js"></script>
</body>

</html>